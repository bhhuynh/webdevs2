<!DOCTYPE html>
<html>

<head>
    <title>Chicago Crime Data Search</title>


    <style>
        #form {
            background-image: url("https://images.fineartamerica.com/images-medium-large-5/chicago-flag-watercolor-mike-maher.jpg");
            background-image:no-repeat;
            border:5px solid black;
            
            border-color:black;
            width: 1000px;
            height: 780px;
            font-size: 160%;
            font-family: Arial;
            text-align: center;
        }
    
        h4{font-size: 160%;
        }
        h1{ font-size: 100%;
            font-family:Arial
        }
        h2{ font-size: 120%;
        font-family:Arial;
        }
        p{ font-size: 140%;
        font-family:Arial;
        text-align: center;
        }
    #table{ 
        padding: 15px;
        text-align: center;
        border: 7.5px solid black;
        background-color:blue;
    }
     td {
            padding: 15px;
            text-align: center;
            border-bottom: 5px solid black;
        }
    </style>

    <div id="form">
        <h4>
          Chicago Crime Data Search
            </h4>
            <h3>Hi this is a crime data search app for Chicago. The scroll bar allows you to select the crime you are looking for. We have created a link to the different neighborhoods that uses the value but displays the name of the neighborhood for convenience to the user. We added the filtering ability of selecting the year, crime, and neighborhood. Select one and click search. When searching for a new crime, refresh the page before doing so. Also we added a filter to limit the amount of results you display.
            <h1>Ben Huynh and Isabella Harbison
                </h1>
                <h2>
                Period 1
                </h2>
            
            <br>

<select id="select">

    <option id="ASSAULT">ASSAULT</option>
    <option id="BATTERY">BATTERY</option>
    <option id="BURGLARY">BURGLARY</option>
    <option id ="CONCEALED CARRY LICENSE VIOLATION"> CONCEALED CARRY LICENSE VIOLATION</option>
    <option id ="CRIMINAL DAMAGE">CRIMINAL DAMAGE</option>
    <option id ="CRIMINAL TRESPASS">CRIMINAL TRESPASS</option>
    <option id ="CRIM SEXUAL ASSAULT">CRIMINAL SEXUAL ASSAULT</option>
    <option id ="DOMESTIC VIOLENCE">DOMESTIC VIOLENCE</option>
    <option id ="GAMBLING">GAMBLING</option>
    <option id ="HOMICIDE">HOMICIDE</option>
    <option id ="HUMAN TRAFFICKING">HUMAN TRAFFICKING</option>
    <option id ="INTERFERENCE WITH PUBLIC OFFICER">INTERFERENCE WITH PUBLIC OFFICER</option>
    <option id ="KIDNAPPING">KIDNAPPING</option>
    <option id ="LIQUOR LAW VIOLATION">LIQUOR LAW VIOLATION</option>
    <option id ="MOTOR VEHICLE THEFT">MOTOR VEHICLE THEFT</option>
    <option id="NARCOTICS">NARCOTICS</option>
    <option id="OFFENSE INVOLVING CHILDREN">OFFENSE INVOLVING CHILDREN</option>
    <option id="OTHER NARCOTIC VIOLATION">OTHER NARCOTIC VIOLATION</option>
    <option id="PROSTITUTION">PROSTITUTION</option>
    <option id="PUBLIC PEACE VIOLATION">PUBLIC PEACE VIOLATION</option>
    <option id="RITUALISM">RITUALISM</option>
    <option id="ROBBERY">ROBBERY</option>
    <option id="SEX OFFENSE">SEX OFFENSE</option>
    <option id="STALKING">STALKING<option>
    <option id="THEFT">THEFT</option>
    <option id="WEAPONS VIOLATION">WEAPONS VIOLATION</option>
</select>

<select id="comm">
    <option disabled>Neighborhood</option>
    <option value="1">Rogers Park</option>
    <option value="2">West Ridge</option>
    <option value="3">Uptown</option>
    <option value="4">Lincoln Square</option>
    <option value="5">North Center</option>
    <option value="6">Lake View</option>
    <option value="7">Lincoln Park</option>
    <option value="8">Near North Side</option>
    <option value="9">Edison Park</option>
    <option value="10">Norwood Park</option>
    <option value="11">Jefferson Park</option>
    <option value="12">Forest Glen</option>
    <option value="13">North Park</option>
    <option value="14">Albany Park</option>
    <option value="15">Portage Park</option>
    <option value="16">Irving Park</option>
    <option value="17">Dunning</option>
    <option value="18">Montclare</option>
    <option value="19">Belmon Cragin</option>
    <option value="20">Hermosa</option>
    <option value="21">Avondale</option>
    <option value="22">Logan Square</option>
    <option value="23">Humboldt Park</option>
    <option value="24">West Town</option>
    <option value="25">Austin</option>
    <option value="26">West Garfield Park</option>
    <option value="27">East Garfield Park</option>
    <option value="28">Near West Side</option>
    <option value="29">North Lawndale</option>
    <option value="30">South Lawndale</option>
    <option value="31">Lower West Side</option>
    <option value="32">Loop</option>
    <option value="33">Near South Side</option>
    <option value="34">Armour Square</option>
    <option value="35">Douglas</option>
    <option value="36">Oakland</option>
    <option value="37">Fuller Park</option>
    <option value="38">Grand Boulevard</option>
    <option value="39">Kenwood</option>
    <option value="40">Washington Park</option>
    <option value="41">Hyde Park</option>
    <option value="42">Woodlawn</option>
    <option value="43">South Shore</option>
    <option value="44">Chatham</option>
    <option value="45">Avalon Park</option>
    <option value="46">South Chicago</option>
    <option value="47">Burnside</option>
    <option value="48">Calumet Heights</option>
    <option value="49">Roseand</option>
    <option value="50">Pullman</option>
    <option value="51">South Deering</option>
    <option value="52">East Side</option>
    <option value="53">West Pullman</option>
    <option value="54">Riverdale</option>
    <option value="55">Hegewisch</option>
    <option value="56">Garfield Ridge</option>
    <option value="57">Archer Heights</option>
    <option value="58">Brighton Park</option>
    <option value="59">McKinley Park</option>
    <option value="60">Bridgeport</option>
    <option value="61">New City</option>
    <option value="62">West Elsdon</option>
    <option value="63">Gage Park</option>
    <option value="64">Clearing</option>
    <option value="65">West Lawn</option>
    <option value="66">Chicago Lawn</option>
    <option value="67">West Englewood</option>
    <option value="68">Englewood</option>
    <option value="69">Greater Grand Crossing</option>
    <option value="70">Ashburn</option>
    <option value="71">Ashburn Gresham</option>
    <option value="72">Beverly</option>
    <option value="73">Washington Heights</option>
    <option value="74">Mount Greenwood</option>
    <option value="75">Morgan Park</option>
    <option value="76">O'Hare</option>
    <option value="77">Edgewater</option>
</select>

<select id="year">
    <option disabled>Year</option>
    <option>2017</option>
    <option>2016</option>
    <option>2015</option>
    <option>2014</option>
    <option>2013</option>
    <option>2012</option>
    <option>2011</option>
    <option>2010</option>
    <option>2009</option>
    <option>2008</option>
    <option>2007</option>
    <option>2006</option>
    <option>2005</option>
    <option>2004</option>
    <option>2003</option>
    <option>2002</option>
    <option>2001</option>
</select>

<select id="numb">
    <option disabled>Number Displayed</option>
   <option>25</option>
   <option>50</option>
   <option>75</option>
   <option>100</option>
   <option>150</option>
   <option>200</option>
   <option>250</option>
</select>

<button type="button" id="butn">Search</button>
<br>
<input type="button" onClick="history.go(0)" value="Refresh"></input>



    </div>
   
    
<table id='table' width='100%'>
    <tr>
    <th>Case ID</th>
    <th>Primary Type</th>
    
    <th>Description</th>
    <th>Location Description</th>
    <th>Block</th>
    <th>Date and Time</th>
    
    <th>Location</th>
    </tr>
</table>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        var crime;

        var baseURL = 'https://data.cityofchicago.org/resource/6zsd-86xi.json';


        var filters = '?primary_type=';


        var url = baseURL + filters;

        console.log(url);

        $(

            $("#butn").on("click", function() {

                $("#results").html("");

                        var searchTerm = $("#select").val();
                        
                        var searchTerm2 = $("#comm").val();
                        
                        var searchTerm3 = $("#year").val();
                        
                        var urlWithSearch = url + searchTerm + '&community_area=' + searchTerm2 + '&year=' + searchTerm3
                
                        console.log(urlWithSearch); 


                $.getJSON(urlWithSearch)
                    .done(function(data) {

                        
                        data.length = $("#numb").val()
                        
                        
                        
                        console.log(data);
                        $.each(data,
                            function(index, value) {
                                 
                              



                                $('body').append("Number of records returned: " + data.length + "<br><hr>");


                              
                                
                            
                                var html =
                                
                                "<tr>"+
                                    "<td>"+ value.id + "</td>"+
                                    "<td>"+ value.primary_type+ "</td>"+
                                    
                                    "<td>"+ value.description+"</td>"+
                                    "<td>"+ value.location_description+ "</td>"+
                                    "<td>"+ value.block+"</td>"+
                                    "<td>"+ value.date + "</td>"+
                                    
                                    "<td>"+ "<a href='http://google.com/maps?q="+  
                                    value.latitude+ 
                                    ","+
                                    value.longitude+
                                    "' target='_blank'>"+
                                    "&#9968"+
                                    "</a>"+"</td>"+
                                    "</tr>"
                                    ;
                                   
                                $("#table").append(html)
                                })
                                                        
                            })
                    })
            );
        
    </script>

</html>